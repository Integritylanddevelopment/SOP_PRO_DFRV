<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Douglas Forest RV Resort - Employee Handbook & SOPs</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #2C5530, #1a3d1f);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            text-align: center;
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .logo-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #8BC34A, #689F38);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            position: relative;
        }

        .logo-icon::before {
            content: '🌲';
            font-size: 2em;
        }

        .logo-text {
            text-align: left;
        }

        .logo-text h1 {
            color: #2C5530;
            font-size: 2.2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .logo-text p {
            color: #689F38;
            font-size: 1.1em;
            font-weight: 600;
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            background: white;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .nav-tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            background: white;
            border: none;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            color: #666;
            transition: all 0.3s ease;
            border-bottom: 4px solid transparent;
        }

        .nav-tab.active {
            background: linear-gradient(135deg, #8BC34A, #689F38);
            color: white;
            border-bottom: 4px solid #2C5530;
        }

        .nav-tab:hover:not(.active) {
            background: #f5f5f5;
            color: #2C5530;
        }

        /* Content Sections */
        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        /* Employee Handbook */
        .handbook-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .handbook-section h2 {
            color: #2C5530;
            font-size: 2em;
            margin-bottom: 20px;
            text-align: center;
        }

        .policy-item {
            background: linear-gradient(135deg, #f8fff8, #f0f8f0);
            border-left: 5px solid #8BC34A;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .policy-title {
            color: #2C5530;
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .policy-content {
            color: #555;
            line-height: 1.6;
        }

        /* SOP Accordion */
        .sop-accordion {
            background: white;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .sop-header {
            background: linear-gradient(135deg, #2C5530, #1a3d1f);
            color: white;
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .sop-header:hover {
            background: linear-gradient(135deg, #1a3d1f, #0f2a12);
        }

        .sop-header h3 {
            font-size: 1.2em;
            margin: 0;
        }

        .sop-toggle {
            font-size: 1.5em;
            transition: transform 0.3s ease;
        }

        .sop-toggle.open {
            transform: rotate(180deg);
        }

        .sop-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .sop-content.open {
            max-height: 2000px;
        }

        .sop-body {
            padding: 30px;
        }

        /* Input Fields */
        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            color: #2C5530;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .input-group input,
        .input-group textarea,
        .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }

        .input-group input:focus,
        .input-group textarea:focus,
        .input-group select:focus {
            outline: none;
            border-color: #8BC34A;
            box-shadow: 0 0 0 3px rgba(139, 195, 74, 0.1);
        }

        /* Checklist Items */
        .checklist-item {
            display: flex;
            align-items: flex-start;
            background: #f8fff8;
            border: 2px solid #e8f5e8;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .checklist-item.completed {
            background: #e8f5e8;
            opacity: 0.7;
        }

        .checklist-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 15px;
            margin-top: 2px;
            cursor: pointer;
        }

        .checklist-text {
            flex: 1;
            color: #333;
            line-height: 1.5;
        }

        .checklist-actions {
            display: flex;
            gap: 10px;
            margin-left: 15px;
        }

        .camera-btn {
            background: #8BC34A;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 8px 12px;
            cursor: pointer;
            font-size: 1.2em;
            transition: background 0.3s ease;
        }

        .camera-btn:hover {
            background: #689F38;
        }

        .timestamp {
            font-size: 0.8em;
            color: #888;
            margin-top: 5px;
            font-style: italic;
        }

        /* Media Upload Section */
        .media-section {
            background: linear-gradient(135deg, #f0f8f0, #e8f5e8);
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
        }

        .media-section h4 {
            color: #2C5530;
            margin-bottom: 15px;
        }

        .media-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .media-btn {
            background: linear-gradient(135deg, #8BC34A, #689F38);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 12px 20px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .media-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 195, 74, 0.3);
        }

        .media-preview {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .media-item {
            background: white;
            border-radius: 8px;
            padding: 10px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        /* Comments Section */
        .comments-section {
            margin-top: 20px;
        }

        .comments-section textarea {
            min-height: 100px;
            resize: vertical;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-tabs {
                flex-direction: column;
            }
            
            .media-buttons {
                flex-direction: column;
            }
            
            .checklist-actions {
                flex-direction: column;
                gap: 5px;
            }
        }

        /* Hidden input for file uploads */
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo">
                <div class="logo-icon"></div>
                <div class="logo-text">
                    <h1>DOUGLAS FOREST</h1>
                    <p>RV RESORT</p>
                </div>
            </div>
            <h2>Employee Handbook & Standard Operating Procedures</h2>
            <p>106 Douglas Road, Webster, MA 01570</p>
        </div>

        <!-- Navigation Tabs -->
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('handbook')">Employee Handbook</button>
            <button class="nav-tab" onclick="switchTab('sops')">Standard Operating Procedures</button>
        </div>

        <!-- Employee Handbook Section -->
        <div id="handbook" class="content-section active">
            <div class="handbook-section">
                <h2>🌲 Employee Handbook</h2>
                
                <div class="policy-item">
                    <div class="policy-title">1. Code of Conduct</div>
                    <div class="policy-content">
                        All employees must maintain professional behavior, treat guests and colleagues with respect, and uphold the values of Douglas Forest RV Resort. Inappropriate conduct, harassment, or discrimination will not be tolerated.
                    </div>
                </div>

                <div class="policy-item">
                    <div class="policy-title">2. Safety Protocols</div>
                    <div class="policy-content">
                        Employee safety is our top priority. All safety procedures must be followed strictly. Report any hazards immediately to management. Personal protective equipment must be worn when required.
                    </div>
                </div>

                <div class="policy-item">
                    <div class="policy-title">3. Guest Service Standards</div>
                    <div class="policy-content">
                        Provide exceptional service to all guests. Be courteous, helpful, and professional. Address complaints promptly and escalate issues to management when necessary. Guest satisfaction is paramount.
                    </div>
                </div>

                <div class="policy-item">
                    <div class="policy-title">4. Zero-Tolerance Substance Policy</div>
                    <div class="policy-content">
                        Douglas Forest RV Resort enforces a zero-tolerance policy for drug and alcohol use anywhere on property, at any time, by staff, volunteers, or work campers. This includes all recreational and medical marijuana use, regardless of Massachusetts state law.
                    </div>
                </div>

                <div class="policy-item">
                    <div class="policy-title">5. Incident Reporting</div>
                    <div class="policy-content">
                        All incidents, accidents, or unusual occurrences must be reported immediately to management. Complete incident reports thoroughly and honestly. Follow all Standard Operating Procedures (SOPs).
                    </div>
                </div>
            </div>
        </div>

        <!-- SOPs Section -->
        <div id="sops" class="content-section">
            <!-- SOP 1: Medical Emergency -->
            <div class="sop-accordion">
                <div class="sop-header" onclick="toggleSOP(this)">
                    <h3>🚨 SOP 1: Medical Emergency or Injury</h3>
                    <span class="sop-toggle">▼</span>
                </div>
                <div class="sop-content">
                    <div class="sop-body">
                        <!-- Input fields for names -->
                        <div class="input-group">
                            <label>Injured Person Name:</label>
                            <input type="text" placeholder="Enter full name">
                        </div>
                        
                        <div class="input-group">
                            <label>First Responder:</label>
                            <input type="text" placeholder="Enter EMS/Fire personnel name">
                        </div>

                        <div class="input-group">
                            <label>Incident Severity:</label>
                            <select>
                                <option value="">Select Severity</option>
                                <option value="minor">Minor Injury</option>
                                <option value="moderate">Moderate Injury</option>
                                <option value="severe">Severe/Critical</option>
                                <option value="life-threatening">Life Threatening</option>
                            </select>
                        </div>

                        <!-- Checklist Items -->
                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">✅ Check the scene for safety. Do not enter unsafe areas.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">🚨 <strong>Call 911 immediately if:</strong> Person is unconscious, bleeding heavily, not breathing, suspected head/neck/spinal injury, chest pain, seizure, or possible stroke.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">🩹 Provide basic aid if you are certified and it's safe to do so.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">🛑 Keep the guest still and calm. Do not allow them to walk or move if injured.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">🏃 Send another staff or volunteer to direct EMS to the location.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">📞 Notify the GM and begin completing the Incident Report.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">🏥 If injury is minor and does not require EMS: Offer first aid if certified, complete Incident Report, monitor guest.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">🧽 Clean and disinfect any biohazard (blood, vomit, etc.) only after report is complete and safe to do so.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <!-- Media Upload Section -->
                        <div class="media-section">
                            <h4>📸 Incident Documentation</h4>
                            <div class="media-buttons">
                                <button class="media-btn" onclick="takePhoto()">📷 Take Photo</button>
                                <button class="media-btn" onclick="uploadDocument()">📄 Upload Document</button>
                                <button class="media-btn" onclick="recordAudio()">🎤 Record Audio</button>
                            </div>
                            <div class="media-preview" id="media-preview-1"></div>
                        </div>

                        <!-- Comments Section -->
                        <div class="comments-section">
                            <div class="input-group">
                                <label>Employee Comments:</label>
                                <textarea placeholder="Enter any additional comments or observations..."></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SOP 2: Criminal Incident -->
            <div class="sop-accordion">
                <div class="sop-header" onclick="toggleSOP(this)">
                    <h3>🚨 SOP 2: Criminal Incident (Assault, Theft, Harassment, Vandalism)</h3>
                    <span class="sop-toggle">▼</span>
                </div>
                <div class="sop-content">
                    <div class="sop-body">
                        <!-- Input fields -->
                        <div class="input-group">
                            <label>Suspect Description:</label>
                            <input type="text" placeholder="Physical description of suspect">
                        </div>
                        
                        <div class="input-group">
                            <label>Witness Name(s):</label>
                            <input type="text" placeholder="Names of witnesses">
                        </div>

                        <!-- Checklist Items -->
                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">✅ Ensure safety of all persons involved. Move away from the area if needed.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">🚨 Call 911 immediately if the incident involves violence, threats, or property damage in progress.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">🚫 Do not attempt to detain or confront the suspect. Observe from a safe distance.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">📞 Notify the General Manager or on-site lead immediately.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">🛡️ Preserve the scene: Do not touch or move anything. Block off the area if needed.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">📝 Record time, date, location, names/descriptions, license plates, and identifying details.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">👥 Collect witness statements and contact information.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">📋 Complete the Incident Report in full, noting whether police were involved.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <!-- Media Upload Section -->
                        <div class="media-section">
                            <h4>📸 Incident Documentation</h4>
                            <div class="media-buttons">
                                <button class="media-btn" onclick="takePhoto()">📷 Take Photo</button>
                                <button class="media-btn" onclick="uploadDocument()">📄 Upload Document</button>
                                <button class="media-btn" onclick="recordAudio()">🎤 Record Audio</button>
                            </div>
                            <div class="media-preview" id="media-preview-2"></div>
                        </div>

                        <!-- Comments Section -->
                        <div class="comments-section">
                            <div class="input-group">
                                <label>Employee Comments:</label>
                                <textarea placeholder="Enter any additional comments or observations..."></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SOP 3: Vehicle Accident -->
            <div class="sop-accordion">
                <div class="sop-header" onclick="toggleSOP(this)">
                    <h3>🚗 SOP 3: Vehicle Accident or Property Damage</h3>
                    <span class="sop-toggle">▼</span>
                </div>
                <div class="sop-content">
                    <div class="sop-body">
                        <!-- Input fields -->
                        <div class="input-group">
                            <label>Involved Parties:</label>
                            <input type="text" placeholder="Names and contact information">
                        </div>
                        
                        <div class="input-group">
                            <label>Insurance Information:</label>
                            <input type="text" placeholder="Insurance details from involved parties">
                        </div>

                        <!-- Checklist Items -->
                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">✅ Ensure safety. If there are injuries, call 911 immediately.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">🚶 Move involved parties to a safe location away from traffic or structures.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">📞 Notify the General Manager or on-site lead.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">⚡ If damage involves park property, immediately shut off affected utilities if safe to do so.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">📸 Take photos of vehicles, damaged structures, license plates, and scene from multiple angles.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">📝 Collect names, phone numbers, addresses, insurance information, and witness details.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">📋 Complete an Incident Report.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <div class="checklist-item">
                            <input type="checkbox" onchange="handleChecklistItem(this)">
                            <div class="checklist-text">📄 Submit all documentation to management within 2 hours.</div>
                            <div class="checklist-actions">
                                <button class="camera-btn" onclick="takePhoto(this)">📷</button>
                            </div>
                            <div class="timestamp"></div>
                        </div>

                        <!-- Media Upload Section -->
                        <div class="media-section">
                            <h4>📸 Incident Documentation</h4>
                            <div class="media-buttons">
                                <button class="media-btn" onclick="takePhoto()">📷 Take Photo</button>
                                <button class="media-btn" onclick="uploadDocument()">📄 Upload Document</button>
                                <button class="media-btn" onclick="recordAudio()">🎤 Record Audio</button>
                            </div>
                            <div class="media-preview" id="media-preview-3"></div>
                        </div>

                        <!-- Comments Section -->
                        <div class="comments-section">
                            <div class="input-group">
                                <label>Employee Comments:</label>
                                <textarea placeholder="Enter any additional comments or observations..."></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Hidden file inputs -->
    <input type="file" id="photo-input" accept="image/*" class="hidden" onchange="handlePhotoUpload(event)">
    <input type="file" id="document-input" accept=".pdf,.doc,.docx,.txt" class="hidden" onchange="handleDocumentUpload(event)">

    <script>
        // Tab switching functionality
        function switchTab(tabName) {
            // Hide all content sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected content and mark tab as active
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // SOP accordion functionality
        function toggleSOP(header) {
            const content = header.nextElementSibling;
            const toggle = header.querySelector('.sop-toggle');
            
            // Close all other SOPs
            document.querySelectorAll('.sop-content').forEach(item => {
                if (item !== content) {
                    item.classList.remove('open');
                    item.previousElementSibling.querySelector('.sop-toggle').classList.remove('open');
                }
            });
            
            // Toggle current SOP
            content.classList.toggle('open');
            toggle.classList.toggle('open');
        }

        // Handle checklist item completion
        function handleChecklistItem(checkbox) {
            const item = checkbox.closest('.checklist-item');
            const timestampDiv = item.querySelector('.timestamp');
            
            if (checkbox.checked) {
                // Mark as completed
                item.classList.add('completed');
                
                // Add timestamp
                const now = new Date();
                timestampDiv.textContent = `Completed: ${now.toLocaleString()}`;
                timestampDiv.style.display = 'block';
            } else {
                // Remove completion
                item.classList.remove('completed');
                timestampDiv.textContent = '';
                timestampDiv.style.display = 'none';
            }
        }

        // Photo taking functionality
        function takePhoto(button) {
            if (button) {
                // Individual checklist item photo
                document.getElementById('photo-input').click();
                window.currentPhotoTarget = button.closest('.checklist-item');
            } else {
                // General photo for media section
                document.getElementById('photo-input').click();
                window.currentPhotoTarget = 'general';
            }
        }

        // Handle photo upload
        function handlePhotoUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    if (window.currentPhotoTarget === 'general') {
                        // Add to media preview
                        addMediaItem('photo', e.target.result);
                    } else {
                        // Add photo indicator to checklist item
                        const item = window.currentPhotoTarget;
                        let photoIndicator = item.querySelector('.photo-indicator');
                        if (!photoIndicator) {
                            photoIndicator = document.createElement('div');
                            photoIndicator.className = 'photo-indicator';
                            photoIndicator.style.cssText = 'color: #8BC34A; font-size: 0.8em; margin-top: 5px;';
                            item.querySelector('.checklist-text').appendChild(photoIndicator);
                        }
                        photoIndicator.textContent = `📷 Photo taken: ${new Date().toLocaleTimeString()}`;
                    }
                };
                reader.readAsDataURL(file);
            }
        }

        // Document upload functionality
        function uploadDocument() {
            document.getElementById('document-input').click();
        }

        // Handle document upload
        function handleDocumentUpload(event) {
            const file = event.target.files[0];
            if (file) {
                addMediaItem('document', file.name);
            }
        }

        // Audio recording functionality (placeholder)
        function recordAudio() {
            // In a real app, this would use MediaRecorder API
            addMediaItem('audio', 'Audio recording ' + new Date().toLocaleTimeString());
        }

        // Add media item to preview
        function addMediaItem(type, content) {
            const mediaPreview = document.querySelector('.media-preview[id*="media-preview"]');
            if (mediaPreview) {
                const mediaItem = document.createElement('div');
                mediaItem.className = 'media-item';
                
                let icon = '';
                switch (type) {
                    case 'photo':
                        icon = '📷';
                        break;
                    case 'document':
                        icon = '📄';
                        break;
                    case 'audio':
                        icon = '🎤';
                        break;
                }
                
                mediaItem.innerHTML = `
                    <div style="font-size: 2em; margin-bottom: 5px;">${icon}</div>
                    <div style="font-size: 0.8em; color: #666;">${type}</div>
                    <div style="font-size: 0.7em; color: #888;">${new Date().toLocaleTimeString()}</div>
                `;
                
                mediaPreview.appendChild(mediaItem);
            }
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Douglas Forest RV Resort SOP System Initialized');
        });
    </script>
</body>
</html>